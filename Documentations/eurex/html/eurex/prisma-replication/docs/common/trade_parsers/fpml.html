<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FpML | Eurex Clearing PME</title>
    <link rel="shortcut icon" href="../../../../../_static/opengamma-favicon.ico"/>
    <link rel="stylesheet" href="../../../../../_static/css/main.css">
    <link rel="stylesheet" href="../../../../../_static/css/syntax.css">
    <link rel="stylesheet" href="../../../../../_static/css/alerts.css">
    <link rel="stylesheet" href="../../../../../_static/font-awesome-4.4.0/css/font-awesome.min.css">
    <script type="text/javascript" src="../../../../../_static/js/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="../../../../../_static/js/docs.js"></script>
  </head>
  <body>
    <div class="wrapper">

      <header class="top">
  <div class="row topbar">
    <h1 id="logo" class="logo">
      <a href="../../../../../index.html">Eurex Clearing PME</a>
    </h1>
    <nav>
      <!--
      <ul id="navigation" class="navigation">
        <li><a href="http://www.opengamma.com/opengamma-platform/margining">More</a></li>
      </ul>
      -->
      <div class="og">
        <div class="toggle"><button type="button" id="toggle-menu" class="button--teal">Menu</button></div>
        <div class="og_logo"><a href="http://www.opengamma.com"><img alt="OpenGamma" src="../../../../../_static/logo_topnav.png" /></a></div>
      </div>
    </nav>
  </div>
</header>

      <div id="content" class="row">

        <div id="sidebar" class="sidebar">

          <section>
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../standalone/quick_start/toc.html">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../standalone/quick_start/set_up_development_environment.html">Setting up a Development Environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/quick_start/set_up_development_environment.html#system-requirements">System requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/quick_start/set_up_development_environment.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../standalone/quick_start/run_examples.html">Running the Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/quick_start/run_examples.html#calculation-of-initial-margin-for-otc-trades">Calculation of Initial Margin for OTC Trades</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/quick_start/run_examples.html#calculation-of-initial-margin-for-etd-trades">Calculation of Initial Margin for ETD Trades</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/quick_start/run_examples.html#calculation-of-cash-flows">Calculation of Cash Flows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/quick_start/run_examples.html#basic-api-integration-example">Basic API Integration Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/quick_start/run_examples.html#running-from-the-command-line">Running from the Command Line</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../standalone/quick_start/basic_library_integration.html">Basic Library Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/quick_start/basic_library_integration.html#margin-environment-lifecycle">Margin Environment Lifecycle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/quick_start/basic_library_integration.html#data-lifecycle">Data Lifecycle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/quick_start/basic_library_integration.html#third-party-libraries">Third-Party Libraries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../standalone/quick_start/advanced_library_integration.html">Advanced Library Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../standalone/overview/toc.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/features.html#margin-methodologies">Margin Methodologies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/features.html#product-scope">Product Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/features.html#outputs">Outputs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../standalone/overview/system_requirements.html">System Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/overview/system_requirements.html#software">Software</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/overview/system_requirements.html#hardware">Hardware</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../standalone/overview/release_notes.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/known_limitations.html">Known Limitations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/known_limitations.html#general">General</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/known_limitations.html#etd">ETD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/known_limitations.html#otc">OTC</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../standalone/overview/faq.html">Frequently Asked Questions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/overview/faq.html#system-requirements">System Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/overview/faq.html#market-data">Market Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/overview/faq.html#trades-and-positions">Trades and Positions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/overview/faq.html#margin-calculation">Margin Calculation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../standalone/data/toc.html">Input Data</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../standalone/data/trade_parsers.html">Portfolio</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="eurex_etd_csv.html">Eurex ETD CSV</a></li>
<li class="toctree-l3"><a class="reference internal" href="eurex_otc_csv.html">Eurex OTC CSV</a></li>
<li class="toctree-l3"><a class="reference internal" href="eurex_sensitivities_csv.html">Eurex Sensitivities CSV</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">FpML</a></li>
<li class="toctree-l3"><a class="reference internal" href="fixml.html">FIXML</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../data/eurex_market_data.html">Market Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data/eurex_market_data.html#otc-requirements">OTC Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data/eurex_market_data.html#etd-requirements">ETD Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data/eurex_market_data.html#cross-margining-requirements">Cross-Margining Requirements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../data/fixings.html">Fixings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data/fixings.html#format">Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data/fixings.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../data/holidays.html">Holidays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data/holidays.html#format">Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data/holidays.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../data/standard_directory_structure.html">Standard Directory Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data/standard_directory_structure.html#directory-layout">Directory Layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data/standard_directory_structure.html#individual-file-conventions">Individual File Conventions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../standalone/integration/toc.html">Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../standalone/integration/architecture.html">Library Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/loading_market_data.html">Loading Market Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/loading_market_data.html#automatic-file-resolution">Automatic file resolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/loading_market_data.html#explicit-usage">Explicit usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/loading_market_data.html#error-handling-during-loading">Error handling during loading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/loading_portfolios.html">Loading Portfolios</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/loading_portfolios.html#error-handling-during-loading">Error handling during loading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/performing_calculations.html">Performing Calculations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/performing_calculations.html#trade-requests">Trade Requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/performing_calculations.html#portfolio-requests">Portfolio Requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/performing_calculations.html#add-ons">Add-ons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/performing_calculations.html#portfolio-im">Portfolio IM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/performing_calculations.html#building-a-request">Building a request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/performing_calculations.html#p-l-calculation-methodology">P&amp;L calculation methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/performing_calculations.html#output-model">Output Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/performing_calculations.html#error-handling-during-calculation">Error handling during calculation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overview/calculation_modes.html">Calculation Modes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/calculation_modes.html#full-revaluation">Full Revaluation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/calculation_modes.html#delta-approximation">Delta Approximation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../standalone/integration/margin_results.html">Margin Results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/integration/margin_results.html#portfolio-results">Portfolio Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/integration/margin_results.html#trade-results">Trade Results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../standalone/integration/concurrency.html">Concurrency</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/integration/concurrency.html#cpu-utilization">CPU utilization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/integration/concurrency.html#custom-executor-service">Custom Executor Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/integration/concurrency.html#concurrent-use-of-the-api">Concurrent use of the API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../standalone/integration/common_tasks.html">Common Tasks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/integration/common_tasks.html#what-if-analysis">What-If Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/integration/common_tasks.html#multiple-days-of-market-data">Multiple Days of Market Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../standalone/integration/common_tasks.html#log-configuration">Log Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../standalone/advanced/toc.html">Advanced Topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../standalone/advanced/trade_model.html">Trade Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../standalone/advanced/third_party_dependencies.html">Third-Party Dependencies</a></li>
</ul>
</li>
</ul>

            
          </section>
        </div>

        <main id="main" class="main">
          
  <div class="section" id="fpml">
<h1>FpML</h1>
<p>FpML v5.8 is supported for OTC trades.</p>
<div class="section" id="features">
<h2>Features</h2>
<div class="section" id="counterparty-selection">
<h3>Counterparty selection</h3>
<p>An FpML trade representation may reference several parties. In order that the loaded trades are constructed with the correct direction with respect to the counterparty, it is important to know which of the parties in the FpML representation is the counterparty. By default, a heuristic is applied which assumes that the counterparty is the only party referenced in the FpML representation, excluding any parties with the following identifiers:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">EUREX</span></code></li>
<li><code class="docutils literal"><span class="pre">OpenGammaId</span></code></li>
</ul>
<p>This default behaviour can be overridden when using the FpML parser programmatically.</p>
</div>
<div class="section" id="internal-trade-identifiers">
<h3>Internal trade identifiers</h3>
<p>By default, each loaded trade is given a globally unique identifier corresponding to the next value in an incrementing sequence.
When analysis of trade-level results is required, it can be important to ensure that the results can be tied back to a specific input trade via a trade identifier.
For this reason, a special party with the identifier <code class="docutils literal"><span class="pre">OpenGammaId</span></code> is supported in the FpML. A <code class="docutils literal"><span class="pre">partyTradeIdentifier</span></code> can be added which references this party,
specifying a custom <code class="docutils literal"><span class="pre">tradeId</span></code> as shown below</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;fpml&gt;</span>
  <span class="nt">&lt;trade&gt;</span>
    <span class="nt">&lt;tradeHeader&gt;</span>

      <span class="nt">&lt;partyTradeIdentifier&gt;</span>
        <span class="nt">&lt;partyReference</span> <span class="na">href=</span><span class="s">&quot;OpenGammaId&quot;</span><span class="nt">&gt;&lt;/partyReference&gt;</span>
        <span class="nt">&lt;tradeId</span> <span class="na">tradeIdScheme=</span><span class="s">&quot;OpenGammaId&quot;</span><span class="nt">&gt;</span>UKRPI-2M-Lag<span class="nt">&lt;/tradeId&gt;</span>
      <span class="nt">&lt;/partyTradeIdentifier&gt;</span>

      ...

    <span class="nt">&lt;/tradeHeader&gt;</span>

    ...

  <span class="nt">&lt;/trade&gt;</span>

  <span class="nt">&lt;party</span> <span class="na">id=</span><span class="s">&quot;OpenGammaId&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;partyId&gt;</span>OpenGammaId<span class="nt">&lt;/partyId&gt;</span>
  <span class="nt">&lt;/party&gt;</span>

  ...

<span class="nt">&lt;/fpml&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="day-count-conventions">
<h3>Day count conventions</h3>
<p>The following <em>day count conventions</em> are supported:</p>
<ul class="simple">
<li>1/1</li>
<li>30/360</li>
<li>30E/360</li>
<li>30E/360.ISDA</li>
<li>ACT/360</li>
<li>ACT/365</li>
<li>ACT/365.FIXED</li>
<li>ACT/365L</li>
<li>ACT/ACT.AFB</li>
<li>ACT/ACT.ICMA</li>
<li>ACT/ACT.ISMA</li>
<li>ACT/ACT.ISDA</li>
<li>ACT/365.ISDA</li>
</ul>
</div>
</div>
<div class="section" id="limitations">
<h2>Limitations</h2>
<p>See <a class="reference internal" href="../overview/known_limitations.html"><em>Known Limitations</em></a>.</p>
</div>
<div class="section" id="api">
<h2>API</h2>
<p>The FpML parser is implemented by <code class="docutils literal"><span class="pre">FpmlTradeParser</span></code>.</p>
<p>The code below shows a simple example of using it directly to load trades from an FpML input file:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">File</span> <span class="n">fpmlFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">&quot;fpml.xml&quot;</span><span class="o">);</span>
<span class="n">ByteSource</span> <span class="n">fpmlSource</span> <span class="o">=</span> <span class="n">Files</span><span class="o">.</span><span class="na">asByteSource</span><span class="o">(</span><span class="n">fpmlFile</span><span class="o">);</span>
<span class="n">FpmlTradeParser</span><span class="o">.</span><span class="na">parseTrades</span><span class="o">(</span><span class="n">fpmlSource</span><span class="o">);</span>
</pre></div>
</div>
<p>It is also possible to construct an instance of <code class="docutils literal"><span class="pre">FpmlTradeParser</span></code> manually in order to
override the default counterparty selection.</p>
</div>
</div>


        </main>
      </div>

      <footer>
  <div class="row">
    <div class="small-6 columns"><p>Version 1.8.3</p></div>
    <div class="small-6 columns"><p class="copyright">&copy; 2015 OpenGamma Limited</p></div>
  </div>
</footer>
    </div>
  </body>
</html>
